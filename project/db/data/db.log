/*C31*/SET SCHEMA PUBLIC
drop table if exists AKKU CASCADE 
drop table if exists AKKU_AkkuEvent CASCADE 
drop table if exists AkkuEvent CASCADE 
drop sequence hibernate_sequence if exists
create sequence hibernate_sequence start with 1 increment by 1
create table AKKU (SERIAL varchar(255) not null, PRODUCTION_DATE timestamp, REPAIR_COUNT integer not null, STATUS varchar(255), VERSION integer not null, primary key (SERIAL))
create table AKKU_AkkuEvent (Akku_SERIAL varchar(255) not null, events_id bigint not null, primary key (Akku_SERIAL, events_id))
create table AkkuEvent (id bigint not null, DATE timestamp not null, VERSION integer not null, SERIAL varchar(255) not null, primary key (id))
alter table AKKU_AkkuEvent add constraint UK_ar1g5h1uae2b8uf9ai9f57nf3 unique (events_id)
alter table AKKU_AkkuEvent add constraint FKc0ghoydpio7di4wyjntufv36s foreign key (events_id) references AkkuEvent
alter table AKKU_AkkuEvent add constraint FK1ugvx2pvrlfbwo25667181hx4 foreign key (Akku_SERIAL) references AKKU
alter table AkkuEvent add constraint FKdftv53w21h0ntpo1rhkfdtnya foreign key (SERIAL) references AKKU
INSERT INTO AKKU VALUES('ID',NULL,0,NULL,0)
INSERT INTO AKKUEVENT VALUES(1,'2021-02-13 17:25:24.020000',0,'ID')
INSERT INTO AKKU_AKKUEVENT VALUES('ID',1)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 2
COMMIT
INSERT INTO AKKUEVENT VALUES(2,'2021-02-13 17:25:41.040000',0,'ID')
DELETE FROM AKKU_AKKUEVENT WHERE AKKU_SERIAL='ID' AND EVENTS_ID=1
INSERT INTO AKKU_AKKUEVENT VALUES('ID',2)
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 3
COMMIT
DISCONNECT
/*C32*/SET SCHEMA PUBLIC
drop table if exists AKKU CASCADE 
drop table if exists AkkuEvent CASCADE 
drop sequence hibernate_sequence if exists
create sequence hibernate_sequence start with 1 increment by 1
create table AKKU (SERIAL varchar(255) not null, PRODUCTION_DATE timestamp, REPAIR_COUNT integer not null, STATUS varchar(255), VERSION integer not null, primary key (SERIAL))
create table AkkuEvent (DTYPE varchar(31) not null, id bigint not null, DATE timestamp not null, VERSION integer not null, CAPACITY float, CYCLES integer, NOTE varchar(255), TICKET integer, SERIAL varchar(255) not null, primary key (id))
alter table AkkuEvent add constraint FKdftv53w21h0ntpo1rhkfdtnya foreign key (SERIAL) references AKKU
INSERT INTO AKKU VALUES('ID',NULL,0,NULL,0)
INSERT INTO AKKUEVENT VALUES('AkkuPruefungsEvent',1,'2021-02-13 17:56:05.657000',0,NULL,12,NULL,NULL,'ID')
DELETE FROM AKKUEVENT WHERE ID=1
INSERT INTO AKKUEVENT VALUES('AkkuPruefungsEvent',1,'2021-02-13 17:56:05.657000',0,NULL,12,NULL,NULL,'ID')
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 2
COMMIT
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 3
DISCONNECT
/*C33*/SET SCHEMA PUBLIC
drop table if exists AKKU CASCADE 
drop table if exists AkkuEvent CASCADE 
drop sequence hibernate_sequence if exists
create sequence hibernate_sequence start with 1 increment by 1
create table AKKU (SERIAL varchar(255) not null, PRODUCTION_DATE timestamp, REPAIR_COUNT integer not null, STATUS varchar(255), VERSION integer not null, primary key (SERIAL))
create table AkkuEvent (DTYPE varchar(31) not null, id bigint not null, DATE timestamp not null, VERSION integer not null, CAPACITY float, CYCLES integer, NOTE varchar(255), TICKET integer, SERIAL varchar(255) not null, primary key (id))
alter table AkkuEvent add constraint FKdftv53w21h0ntpo1rhkfdtnya foreign key (SERIAL) references AKKU
INSERT INTO AKKU VALUES('ID',NULL,0,NULL,0)
INSERT INTO AKKUEVENT VALUES('AkkuPruefungsEvent',1,'2021-02-13 17:58:56.973000',0,NULL,12,NULL,NULL,'ID')
DELETE FROM AKKUEVENT WHERE ID=1
INSERT INTO AKKUEVENT VALUES('AkkuPruefungsEvent',1,'2021-02-13 17:58:56.973000',0,NULL,12,NULL,NULL,'ID')
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 2
COMMIT
DISCONNECT
/*C34*/SET SCHEMA PUBLIC
drop table if exists AKKU CASCADE 
drop table if exists AkkuEvent CASCADE 
drop sequence hibernate_sequence if exists
create sequence hibernate_sequence start with 1 increment by 1
create table AKKU (SERIAL varchar(255) not null, PRODUCTION_DATE timestamp, REPAIR_COUNT integer not null, STATUS varchar(255), VERSION integer not null, primary key (SERIAL))
create table AkkuEvent (DTYPE varchar(31) not null, id bigint not null, DATE timestamp not null, VERSION integer not null, CAPACITY float, CYCLES integer, NOTE varchar(255), TICKET integer, SERIAL varchar(255) not null, primary key (id))
alter table AkkuEvent add constraint FKdftv53w21h0ntpo1rhkfdtnya foreign key (SERIAL) references AKKU
INSERT INTO AKKU VALUES('ID',NULL,0,NULL,0)
INSERT INTO AKKUEVENT VALUES('AkkuPruefungsEvent',1,'2021-02-13 18:01:55.340000',0,NULL,12,NULL,NULL,'ID')
DELETE FROM AKKUEVENT WHERE ID=1
INSERT INTO AKKUEVENT VALUES('AkkuPruefungsEvent',1,'2021-02-13 18:01:55.340000',0,NULL,12,NULL,NULL,'ID')
ALTER SEQUENCE PUBLIC.HIBERNATE_SEQUENCE RESTART WITH 2
COMMIT
